import{_ as U,u as z,f,a as e,w as o,F as p,r as l,o as c,c as m,i as V,g,b as s,t as b,d as h,e as O}from"./app.3bc18b62.js";const T={data:()=>({dialog:!1,modalData:null}),props:{products:Object,banners:Object},methods:{updateModalContent(n,t=null){this.dialog=n,this.modalData=t,this.form.product_id=t.id},submit(){this.form.post("/buy",{onSuccess:n=>{var t;((t=n.props.flash.notification)==null?void 0:t.status)==="success"&&(this.dialog=!1,this.modalData=null)}})}},setup(n){return{form:z({product_id:null,package_id:null,quantity:0})}},computed:{getItems(){var t;let n=(t=this.modalData.packages.find(r=>r.id===this.form.package_id))==null?void 0:t.pivot.cost;return{productCost:n,totalCost:n&&this.form.quantity>0?n*this.form.quantity:0}}}},E=s("h5",null,"Poductos",-1),H={class:"text-h5"},L={class:"row mx-5"},A={class:"col-12 text-danger"},G={class:"row"},J={class:"col-12 col-md-4"},K={class:"col-12 col-md-4"},Q={class:"col-12 col-md-4"},R={class:"row"},W={class:"col-12 col-md-4"},X={class:"col-12 col-md-4"},Y={class:"card-footer"},Z={class:"row"},$={class:"col-6"},ee={class:"col-6"};function te(n,t,r,d,oe,i){const x=l("v-carousel-item"),D=l("v-carousel"),u=l("v-row"),q=l("v-divider"),B=l("v-img"),v=l("v-card-text"),C=l("v-card"),M=l("v-sheet"),N=l("v-col"),k=l("v-container"),j=l("v-card-title"),_=l("v-text-field"),F=l("v-select"),I=l("v-spacer"),y=l("v-btn"),P=l("v-card-actions"),S=l("v-dialog");return c(),f(p,null,[e(k,null,{default:o(()=>[r.banners&&r.banners.length>0?(c(),m(u,{key:0,class:"mb-5"},{default:o(()=>[e(D,{cycle:"",height:"400","hide-delimiter-background":"",color:"#fff"},{default:o(()=>[(c(!0),f(p,null,V(r.banners,(a,w)=>(c(),m(x,{key:w,src:a.media[0].original_url,cover:""},null,8,["src"]))),128))]),_:1})]),_:1})):g("",!0),e(u,{justify:"space-between pa-4 mb-2"},{default:o(()=>[E]),_:1}),e(q),e(u,null,{default:o(()=>[(c(!0),f(p,null,V(r.products,a=>(c(),m(N,{cols:"12",md:"2",key:a.id},{default:o(()=>[e(M,{rounded:"",class:"mx-auto p-0 m-0",height:"100%",width:"100%"},{default:o(()=>[e(C,{onClick:w=>i.updateModalContent(!0,a),class:"w-100"},{default:o(()=>[e(B,{src:a.media[0].original_url,"lazy-src":a.media[0].original_url,"aspect-ratio":"1",cover:"",class:"bg-white rounded"},null,8,["src","lazy-src"]),e(v,{class:"text-center fw-bold w-100"},{default:o(()=>[h(b(a.name),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),e(S,{modelValue:n.dialog,"onUpdate:modelValue":t[4]||(t[4]=a=>n.dialog=a),persistent:""},{default:o(()=>[n.dialog?(c(),m(C,{key:0},{default:o(()=>[s("form",{onSubmit:t[3]||(t[3]=O((...a)=>i.submit&&i.submit(...a),["prevent"]))},[e(j,null,{default:o(()=>[s("span",H,"Comprar Cuenta de "+b(n.modalData.name),1)]),_:1}),d.form.errors.balance?(c(),m(v,{key:0},{default:o(()=>[s("div",L,[s("div",A,b(d.form.errors.balance),1)])]),_:1})):g("",!0),e(v,null,{default:o(()=>[e(k,null,{default:o(()=>[s("div",G,[s("div",J,[e(_,{"model-value":n.modalData.name,label:"Producto",disabled:""},null,8,["model-value"])]),s("div",K,[e(F,{"error-messages":d.form.errors.package_id,color:"primary",label:"Plan",modelValue:d.form.package_id,"onUpdate:modelValue":t[0]||(t[0]=a=>d.form.package_id=a),items:n.modalData.packages,"item-title":"name","item-value":"id"},null,8,["error-messages","modelValue","items"])]),s("div",Q,[e(_,{"model-value":i.getItems.productCost,label:"Costo",disabled:""},null,8,["model-value"])])]),s("div",R,[s("div",W,[e(_,{modelValue:d.form.quantity,"onUpdate:modelValue":t[1]||(t[1]=a=>d.form.quantity=a),label:"Cantidad",type:"number"},null,8,["modelValue"])]),s("div",X,[e(_,{"model-value":i.getItems.totalCost,label:"Total",disabled:""},null,8,["model-value"])])])]),_:1})]),_:1}),e(P,null,{default:o(()=>[e(I),s("div",Y,[s("div",Z,[s("div",$,[e(y,{disabled:d.form.processing,type:"submit",rounded:"lg",color:"success",class:"w-100"},{default:o(()=>[h(" Comprar ")]),_:1},8,["disabled"])]),s("div",ee,[e(y,{rounded:"lg",color:"danger",class:"w-100 text-white",onClick:t[2]||(t[2]=a=>i.updateModalContent(!1))},{default:o(()=>[h(" Cancelar ")]),_:1})])])])]),_:1})],32)]),_:1})):g("",!0)]),_:1},8,["modelValue"])],64)}const ae=U(T,[["render",te]]);export{ae as default};
